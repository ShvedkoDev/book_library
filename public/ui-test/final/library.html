<!doctype html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1'/>
    <style>img:is([sizes="auto" i], [sizes^="auto," i]) {
        contain-intrinsic-size: 3000px 1500px
    }</style>

    <!-- This site is optimized with the Yoast SEO plugin v25.8 - https://yoast.com/wordpress/plugins/seo/ -->
    <title>Micronesian Teachers Digital Library - Library</title>
    <link rel="canonical" href="https://localhost/micronesian-digital-library-library/"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Micronesian Teachers Digital Library - Library"/>
    <meta property="og:description" content="Search and explore our comprehensive collection of over 2,000 educational books and resources in local languages across Micronesia."/>
    <meta property="og:url" content="https://localhost/micronesian-digital-library-library/"/>
    <meta property="og:site_name" content="Micronesian Teachers Digital Library"/>

    <!-- WordPress CSS -->
    <link rel="stylesheet" href="assets/css/wordpress-main.css" type="text/css" media="all"/>
    <link rel="stylesheet" href="assets/css/font-awesome.min.css" type="text/css" media="all"/>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Library-specific styles */
        .library-sidebar {
            width: 300px;
            min-width: 300px;
            background: #f8f9fa;
            padding: var(--wp--preset--spacing--40);
            border-right: 1px solid #e9ecef;
        }

        .library-sidebar h3 {
            color: var(--wp--preset--color--coe-green);
            font-size: var(--wp--preset--font-size--medium);
            font-weight: 600;
            margin-bottom: var(--wp--preset--spacing--20);
        }

        .search-box {
            display: flex;
            gap: var(--wp--preset--spacing--20);
            margin-bottom: var(--wp--preset--spacing--30);
        }

        .search-box input {
            flex: 1;
            padding: var(--wp--preset--spacing--20);
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: var(--wp--preset--font-size--small);
        }

        .search-btn {
            padding: var(--wp--preset--spacing--20);
            background: var(--wp--preset--color--coe-green);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .entries-section select {
            width: 100%;
            padding: var(--wp--preset--spacing--20);
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: var(--wp--preset--spacing--30);
        }

        .filter-group {
            margin-bottom: var(--wp--preset--spacing--30);
        }

        .filter-title {
            font-size: var(--wp--preset--font-size--small);
            font-weight: 600;
            color: var(--wp--preset--color--coe-blue);
            margin-bottom: var(--wp--preset--spacing--20);
            cursor: pointer;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: var(--wp--preset--spacing--20);
        }

        .filter-options label {
            display: flex;
            align-items: center;
            gap: var(--wp--preset--spacing--20);
            font-size: var(--wp--preset--font-size--small);
            cursor: pointer;
        }

        .clear-filters {
            background: var(--wp--preset--color--coe-red);
            color: white;
            border: none;
            padding: var(--wp--preset--spacing--20);
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: var(--wp--preset--font-size--small);
        }

        .library-content {
            flex: 1;
            padding: var(--wp--preset--spacing--40);
        }

        .library-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--wp--preset--spacing--40);
            padding-bottom: var(--wp--preset--spacing--20);
            border-bottom: 1px solid #e9ecef;
        }

        .sort-options select {
            padding: var(--wp--preset--spacing--20);
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .results-count {
            font-size: var(--wp--preset--font-size--small);
            color: var(--wp--preset--color--coe-gray);
        }

        .book-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--wp--preset--spacing--30);
            margin-bottom: var(--wp--preset--spacing--40);
        }

        .book-item {
            display: flex;
            gap: var(--wp--preset--spacing--30);
            padding: var(--wp--preset--spacing--30);
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: white;
            transition: box-shadow 0.2s;
        }

        .book-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .book-thumbnail img {
            width: 80px;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
        }

        .book-info {
            flex: 1;
        }

        .book-title {
            font-size: var(--wp--preset--font-size--medium);
            font-weight: 600;
            color: var(--wp--preset--color--coe-blue);
            margin-bottom: var(--wp--preset--spacing--20);
        }

        .book-meta {
            font-size: var(--wp--preset--font-size--small);
            color: var(--wp--preset--color--coe-gray);
            margin-bottom: var(--wp--preset--spacing--20);
        }

        .book-actions {
            display: flex;
            gap: var(--wp--preset--spacing--20);
        }

        .expand-btn, .view-btn {
            padding: var(--wp--preset--spacing--20);
            border: 1px solid var(--wp--preset--color--coe-green);
            border-radius: 4px;
            cursor: pointer;
            font-size: var(--wp--preset--font-size--small);
        }

        .expand-btn {
            background: white;
            color: var(--wp--preset--color--coe-green);
            width: 32px;
            height: 32px;
        }

        .view-btn {
            background: var(--wp--preset--color--coe-green);
            color: white;
            padding: var(--wp--preset--spacing--20) var(--wp--preset--spacing--30);
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--wp--preset--spacing--20);
        }

        .page-btn {
            padding: var(--wp--preset--spacing--20);
            border: 1px solid #ddd;
            background: white;
            color: var(--wp--preset--color--coe-blue);
            cursor: pointer;
            border-radius: 4px;
            min-width: 40px;
        }

        .page-btn.active {
            background: var(--wp--preset--color--coe-green);
            color: white;
            border-color: var(--wp--preset--color--coe-green);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .container.with_sidebar {
            display: flex;
            gap: 0;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Module Toggle Styles */
        .module-toggle {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: var(--wp--preset--spacing--30) 0;
        }

        .toggle-container {
            display: flex;
            align-items: center;
            gap: var(--wp--preset--spacing--20);
            background: none;
            border: none;
            padding: 0;
        }

        .toggle-btn {
            background: none;
            border: none;
            font-size: var(--wp--preset--font-size--medium);
            font-weight: 600;
            color: var(--wp--preset--color--coe-gray);
            cursor: pointer;
            padding: var(--wp--preset--spacing--20);
            transition: color 0.2s ease;
            font-family: var(--wp--preset--font-family--proxima-nova);
            text-decoration: none;
        }

        .toggle-btn.active {
            color: var(--wp--preset--color--coe-green);
            font-weight: 700;
        }

        .toggle-btn:hover:not(.active) {
            color: var(--wp--preset--color--coe-blue);
        }

        .toggle-divider {
            font-size: var(--wp--preset--font-size--medium);
            color: var(--wp--preset--color--coe-gray);
            font-weight: 300;
        }

        /* Institution logos in coe-banner */
        .left-institution, .right-institution {
            display: flex;
            align-items: center;
            gap: var(--wp--preset--spacing--30);
        }

        .left-institution a, .right-institution a {
            display: flex;
            align-items: center;
            gap: var(--wp--preset--spacing--20);
            text-decoration: none;
            color: var(--wp--preset--color--white);
        }

        .left-institution img, .right-institution img {
            height: 40px;
            width: auto;
        }

        .institution-name {
            font-size: var(--wp--preset--font-size--small);
            font-weight: 600;
            color: var(--wp--preset--color--white);
        }

        .header-container {
            max-width: var(--wp--style--global--wide-size);
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 var(--wp--preset--spacing--40);
        }
    </style>
</head>

<body class="page-template-default page page-id-62 page-parent logged-in color-scheme-light">

<!-- Terms of Use Modal -->
<div id="termsModal" class="terms-modal">
    <div class="terms-modal-content">
        <div class="terms-modal-header">
            <h2>Terms of Use - Digital Library Access</h2>
            <span class="terms-close">&times;</span>
        </div>
        <div class="terms-modal-body">
            <p><strong>Welcome to the Micronesian Teachers Digital Library!</strong></p>
            <p>By accessing this digital library, you agree to the following terms:</p>
            <ul>
                <li>Materials are provided under Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</li>
                <li>Resources are intended for educational purposes only</li>
                <li>You must provide appropriate attribution when using materials</li>
                <li>Commercial use is not permitted</li>
                <li>Any adaptations must be shared under the same license</li>
            </ul>
            <p>Do you accept these terms and wish to continue to the Digital Library?</p>
        </div>
        <div class="terms-modal-footer">
            <button class="terms-decline-btn">Decline</button>
            <button class="terms-accept-btn">Accept and Continue</button>
        </div>
    </div>
</div>

<main role="main" class="main-container">

    <header class="banner" role="banner">
        <a class="screen-reader-text skip-link" href="#content">Skip to main content</a>

        <!-- Institution logos in coe-banner -->
        <div class="coe-banner">
            <div class="header-container">
                <div class="left-institution">
                    <a href="#" title="Institution 1">
                        <img src="https://picsum.photos/120/60?random=10" alt="Institution 1 Logo">
                        <span class="institution-name">Educational Institution 1</span>
                    </a>
                </div>
                <div class="right-institution">
                    <a href="#" title="Institution 2">
                        <img src="https://picsum.photos/120/60?random=11" alt="Institution 2 Logo">
                        <span class="institution-name">Educational Institution 2</span>
                    </a>
                </div>
            </div>
        </div>

        <div class="program-banner">
            <div class="module-toggle">
                <div class="toggle-container">
                    <button class="toggle-btn" data-module="guide" onclick="window.location.href='index.html'">Resource guide</button>
                    <div class="toggle-divider">|</div>
                    <button class="toggle-btn active" data-module="library">Resource library</button>
                </div>
            </div>
            <nav aria-label="main menu" class="nav-primary">
                <button class="menu-toggle" aria-expanded="false">Menu <span class="screen-reader-text">Open Mobile Menu</span></button>
                <div class="menu-main-container">
                    <ul id="menu-main" class="nav">
                        <li class="menu-item"><a href="index.html">Home</a></li>
                        <li class="menu-item menu-item-has-children"><a href="#">About Us</a>
                            <ul class="sub-menu">
                                <li><a href="/about/">What is MTDL?</a></li>
                                <li><a href="/why/">Why Digital Library?</a></li>
                                <li><a href="/photo-gallery/">Photo Gallery</a></li>
                            </ul>
                        </li>
                        <li class="menu-item menu-language menu-item-has-children"><a href="#" class="language-selector">EN <i class="fal fa-chevron-down"></i></a>
                            <ul class="sub-menu language-options">
                                <li><a href="#">English</a></li>
                                <li><a href="#">Chuukese</a></li>
                                <li><a href="#">Pohnpeian</a></li>
                                <li><a href="#">Yapese</a></li>
                                <li><a href="#">Kosraean</a></li>
                                <li><a href="#">Marshallese</a></li>
                            </ul>
                        </li>
                        <li class="menu-item menu-login"><a href="/login/">Login</a></li>
                    </ul>
                </div>

                <div class="menu-search">
                    <a class="search-toggle" href="#searchform"><i class="fal fa-search" aria-hidden="true"></i><span class="screen-reader-text">Toggle Search</span></a>
                    <div class="search-container" aria-expanded="false">
                        <form role="search" method="get" class="searchform" action="/">
                            <label for="basic-site-search" id="searchform" class="screen-reader-text">Search for:</label>
                            <input type="search" name="s" id="basic-site-search" placeholder="Search" required/>
                            <button type="submit"><i class="fal fa-search" aria-hidden="true"></i><span class="screen-reader-text">Submit Search</span></button>
                        </form>
                    </div>
                </div>
            </nav>
        </div>

        <div class="title_banner thin">
            <div class="header-blurb container">
                <h1 class="page-title">Resource Library</h1>
                <p class="subtitle">National Vernacular Language Arts (VLA) Curriculum</p>
            </div>
        </div>
    </header>

    <div class="content" id="content">
        <div class="page-content">
            <div class="container with_sidebar">
                <!-- Library Search and Filters Sidebar (Left Side) -->
                <aside class="sidebar sidebar-links library-sidebar">
                    <!-- Keyword Search -->
                    <div class="sidebar_item search-section">
                        <h3>Keyword Search</h3>
                        <div class="search-box">
                            <input type="text" id="library-search" placeholder="Enter search term (optional)" />
                            <button type="button" class="search-btn">🔍</button>
                        </div>
                    </div>

                    <!-- Number of Entries -->
                    <div class="sidebar_item entries-section">
                        <h3>Results</h3>
                        <select id="entries-per-page">
                            <option value="10">10 entries</option>
                            <option value="25">25 entries</option>
                            <option value="50">50 entries</option>
                        </select>
                    </div>

                    <!-- Filter Results -->
                    <div class="sidebar_item filters-section">
                        <h3>Filter Results</h3>

                        <!-- Learner Level -->
                        <div class="filter-group">
                            <h4 class="filter-title">▼ LEARNER LEVEL</h4>
                            <div class="filter-options">
                                <label><input type="checkbox" name="level" value="elementary"> Elementary</label>
                                <label><input type="checkbox" name="level" value="secondary"> Secondary</label>
                                <label><input type="checkbox" name="level" value="adult"> Adult</label>
                            </div>
                        </div>

                        <!-- Content Areas -->
                        <div class="filter-group">
                            <h4 class="filter-title">▼ CONTENT AREAS</h4>
                            <div class="filter-options">
                                <label><input type="checkbox" name="subject" value="language"> Language Arts</label>
                                <label><input type="checkbox" name="subject" value="math"> Mathematics</label>
                                <label><input type="checkbox" name="subject" value="science"> Science</label>
                                <label><input type="checkbox" name="subject" value="social"> Social Studies</label>
                            </div>
                        </div>

                        <!-- Resource Type -->
                        <div class="filter-group">
                            <h4 class="filter-title">▼ RESOURCE TYPE</h4>
                            <div class="filter-options">
                                <label><input type="checkbox" name="type" value="book"> Book</label>
                                <label><input type="checkbox" name="type" value="guide"> Teacher Guide</label>
                                <label><input type="checkbox" name="type" value="workbook"> Workbook</label>
                                <label><input type="checkbox" name="type" value="manual"> Manual</label>
                            </div>
                        </div>

                        <!-- Language -->
                        <div class="filter-group">
                            <h4 class="filter-title">▼ LANGUAGE</h4>
                            <div class="filter-options">
                                <label><input type="checkbox" name="language" value="english"> English</label>
                                <label><input type="checkbox" name="language" value="chuukese"> Chuukese</label>
                                <label><input type="checkbox" name="language" value="pohnpeian"> Pohnpeian</label>
                                <label><input type="checkbox" name="language" value="yapese"> Yapese</label>
                                <label><input type="checkbox" name="language" value="kosraean"> Kosraean</label>
                                <label><input type="checkbox" name="language" value="marshallese"> Marshallese</label>
                            </div>
                        </div>

                        <button type="button" class="clear-filters">Clear All Filters</button>
                    </div>
                </aside>

                <!-- Library Content (Right Side) -->
                <div class="main_content library-content">
                    <div class="library-header">
                        <div class="sort-options">
                            <label>Sort by:</label>
                            <select id="sort-order">
                                <option value="alphabetical">Alphabetical Order</option>
                                <option value="chronological">Chronological Order</option>
                            </select>
                        </div>
                        <div class="results-count">
                            <span id="results-count">Showing 12 of 2,000+ resources</span>
                        </div>
                    </div>

                    <div class="book-grid" id="book-grid">
                        <!-- Book Item 1 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book1" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">The Way of the Worlds</h4>
                                <p class="book-meta">2021-06-01 • Hardcover in English</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 2 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book2" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">La Guerra del Mundo</h4>
                                <p class="book-meta">2021-12-15 • Paperback in Spanish</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 3 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book3" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">The Way of the Worlds</h4>
                                <p class="book-meta">2023-10-31 • Hardcover in French</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 4 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book4" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Mathematics for Elementary</h4>
                                <p class="book-meta">2022-03-15 • Workbook in Chuukese</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 5 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book5" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Traditional Stories of Pohnpei</h4>
                                <p class="book-meta">2020-08-12 • Paperback in Pohnpeian</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 6 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book6" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Science Curriculum Guide</h4>
                                <p class="book-meta">2023-01-10 • Teacher Guide in English</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 7 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book7" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Kosraean Language Basics</h4>
                                <p class="book-meta">2021-11-05 • Workbook in Kosraean</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 8 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book8" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">History of Marshall Islands</h4>
                                <p class="book-meta">2022-07-20 • Hardcover in Marshallese</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 9 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book9" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Yapese Cultural Traditions</h4>
                                <p class="book-meta">2020-12-03 • Paperback in Yapese</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 10 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book10" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Elementary Reading Manual</h4>
                                <p class="book-meta">2023-04-18 • Manual in English</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 11 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book11" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Pacific Island Ecology</h4>
                                <p class="book-meta">2022-09-14 • Textbook in English</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>

                        <!-- Book Item 12 -->
                        <div class="book-item">
                            <div class="book-thumbnail">
                                <img src="https://picsum.photos/120/160?random=book12" alt="Book cover">
                            </div>
                            <div class="book-info">
                                <h4 class="book-title">Social Studies for High School</h4>
                                <p class="book-meta">2021-05-25 • Textbook in English</p>
                                <div class="book-actions">
                                    <button class="expand-btn">+</button>
                                    <button class="view-btn">View</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pagination -->
                    <div class="pagination">
                        <button class="page-btn prev" disabled>←</button>
                        <span class="page-numbers">
                            <button class="page-btn active">1</button>
                            <button class="page-btn">2</button>
                            <button class="page-btn">3</button>
                            <button class="page-btn">4</button>
                            <button class="page-btn">5</button>
                            <span>...</span>
                            <button class="page-btn">200</button>
                        </span>
                        <button class="page-btn next">→</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer class="department-footer" aria-label="department or special program info">
    <div class="container">
        <img class="dept-logo" src="https://picsum.photos/200/80?random=3DL" alt="Micronesian Teachers Digital Library logo">
        <p class="tagline">
            The Micronesian Teachers Digital Library promotes culturally responsive, place-based education by providing access to over 2,000 educational resources in local languages, fostering cultural preservation and academic excellence across Micronesia.
        </p>
        <ul class="department-links">
            <li><a href="/about/">About MTDL</a></li>
            <li><a href="/terms/">Terms of Use</a></li>
            <li><a href="/privacy/">Privacy Policy</a></li>
            <li><a href="/contact/">Contact</a></li>
        </ul>
    </div>
</footer>

<!-- JavaScript for Terms Modal and Library Functionality -->
<script>
    // Check if user has already accepted terms
    const hasAcceptedTerms = localStorage.getItem('mtdl_terms_accepted') === 'true';

    // Get modal elements
    const modal = document.getElementById('termsModal');
    const closeBtn = document.querySelector('.terms-close');
    const declineBtn = document.querySelector('.terms-decline-btn');
    const acceptBtn = document.querySelector('.terms-accept-btn');

    // Library functionality
    const librarySearch = document.getElementById('library-search');
    const entriesSelect = document.getElementById('entries-per-page');
    const sortSelect = document.getElementById('sort-order');
    const filterCheckboxes = document.querySelectorAll('.filter-options input[type="checkbox"]');
    const clearFiltersBtn = document.querySelector('.clear-filters');

    // Terms modal functions
    function showLibraryTerms() {
        if (hasAcceptedTerms) {
            // User has already accepted, proceed to library
            return;
        } else {
            // Show terms modal
            modal.style.display = 'block';
        }
    }

    function hideModal() {
        modal.style.display = 'none';
    }

    function acceptTerms() {
        localStorage.setItem('mtdl_terms_accepted', 'true');
        hideModal();
    }

    function declineTerms() {
        hideModal();
        window.location.href = 'index.html'; // Go back to guide
    }

    // Event listeners for modal
    if (closeBtn) closeBtn.addEventListener('click', hideModal);
    if (declineBtn) declineBtn.addEventListener('click', declineTerms);
    if (acceptBtn) acceptBtn.addEventListener('click', acceptTerms);

    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            hideModal();
        }
    });

    // Library search and filter functionality
    function updateResults() {
        const searchTerm = librarySearch.value.toLowerCase();
        const entriesPerPage = parseInt(entriesSelect.value);
        const sortOrder = sortSelect.value;

        // Get selected filters
        const selectedFilters = {};
        filterCheckboxes.forEach(checkbox => {
            if (checkbox.checked) {
                const filterType = checkbox.name;
                if (!selectedFilters[filterType]) {
                    selectedFilters[filterType] = [];
                }
                selectedFilters[filterType].push(checkbox.value);
            }
        });

        // Here you would implement the actual filtering logic
        // For now, just update the results count
        console.log('Search term:', searchTerm);
        console.log('Entries per page:', entriesPerPage);
        console.log('Sort order:', sortOrder);
        console.log('Selected filters:', selectedFilters);

        // Update results count (placeholder)
        document.getElementById('results-count').textContent = `Showing 12 of 2,000+ resources`;
    }

    function clearAllFilters() {
        filterCheckboxes.forEach(checkbox => {
            checkbox.checked = false;
        });
        librarySearch.value = '';
        updateResults();
    }

    // Event listeners for library functionality
    if (librarySearch) librarySearch.addEventListener('input', updateResults);
    if (entriesSelect) entriesSelect.addEventListener('change', updateResults);
    if (sortSelect) sortSelect.addEventListener('change', updateResults);
    if (clearFiltersBtn) clearFiltersBtn.addEventListener('click', clearAllFilters);

    filterCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', updateResults);
    });

    // Filter group toggle functionality
    document.querySelectorAll('.filter-title').forEach(title => {
        title.addEventListener('click', function() {
            const filterOptions = this.nextElementSibling;
            const isExpanded = filterOptions.style.display !== 'none';

            if (isExpanded) {
                filterOptions.style.display = 'none';
                this.textContent = this.textContent.replace('▼', '▶');
            } else {
                filterOptions.style.display = 'flex';
                this.textContent = this.textContent.replace('▶', '▼');
            }
        });
    });

    // Book expand functionality
    document.querySelectorAll('.expand-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            // Toggle expanded view (placeholder)
            if (this.textContent === '+') {
                this.textContent = '-';
                // Here you would show expanded details
            } else {
                this.textContent = '+';
                // Here you would hide expanded details
            }
        });
    });

    // Book view functionality
    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            // Navigate to book detail page (placeholder)
            console.log('View book details');
        });
    });

    // Pagination functionality
    document.querySelectorAll('.page-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            if (!this.disabled && !this.classList.contains('active')) {
                // Remove active class from all buttons
                document.querySelectorAll('.page-btn').forEach(b => b.classList.remove('active'));

                // Add active class to clicked button
                if (!isNaN(this.textContent)) {
                    this.classList.add('active');
                }

                // Here you would implement page navigation
                console.log('Navigate to page:', this.textContent);
            }
        });
    });
</script>

</body>
</html>